services:
  db:
    build:
      context: .
      dockerfile: Dockerfile.db
    container_name: therian-dev-db
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: devpassword
      POSTGRES_DB: therian_dev
      TZ: America/Argentina/Buenos_Aires
    command: >
      bash -c "ln -sf /usr/share/zoneinfo/America/Argentina/Buenos_Aires /usr/share/zoneinfo/America/Buenos_Aires
      && exec docker-entrypoint.sh postgres -c timezone=America/Argentina/Buenos_Aires"
    ports:
      - "5435:5432"
    volumes:
      - therian_dev_data:/var/lib/postgresql/data

volumes:
  therian_dev_data:
